apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: glance
spec:
  version: "v0.1.0"
  homepage: https://gitlab.com/davidxarnold/glance
  shortDescription: View cluster resource allocation and usage.
  description: |
    Glance is a kubectl plugin that displays cluster resource allocation and utilization.

    It allows you to quickly view:
    - Node resource allocation (CPU and memory)
    - Pod resource requests and limits
    - Cluster-wide totals
    - Cloud provider node information (optional)

    Features:
    - Multiple output formats (text, pretty, JSON, charts)
    - Human-readable and exact value display
    - Label and field selectors

    Usage:
      kubectl glance                    # Default view
      kubectl glance -o pretty          # Colored output
      kubectl glance -o json            # JSON format
      kubectl glance --selector tier=app # Filter by labels
      kubectl glance -c                 # Include cloud provider info
  caveats: |
    This plugin requires kubectl 1.12 or higher.
    For cloud provider information (--cloud-info), ensure proper cloud credentials are configured.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: "https://gitlab.com/davidxarnold/glance/-/releases/v0.1.0/downloads/kubectl-glance-0.1.0-darwin-amd64.tar.gz"
    sha256: "5e70e4e4869336e960af16cea1c143d5302e91ee4066f2027c4b399ab7e7d2ea"
    bin: "kubectl-glance"
    files:
    - from: "*"
      to: "."
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: "https://gitlab.com/davidxarnold/glance/-/releases/v0.1.0/downloads/kubectl-glance-0.1.0-darwin-arm64.tar.gz"
    sha256: "0cfdd72a884a931854b8481c9ac7f731e741fcb98631a3699a34fefc9a768696"
    bin: "kubectl-glance"
    files:
    - from: "*"
      to: "."
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: "https://gitlab.com/davidxarnold/glance/-/releases/v0.1.0/downloads/kubectl-glance-0.1.0-linux-amd64.tar.gz"
    sha256: "a51bce39902143188763dfeb3f0304e6c34fee48f064b8d9e59263490eb6abd1"
    bin: "kubectl-glance"
    files:
    - from: "*"
      to: "."
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: "https://gitlab.com/davidxarnold/glance/-/releases/v0.1.0/downloads/kubectl-glance-0.1.0-linux-arm64.tar.gz"
    sha256: "8c94ede70f31af104a09fd5831383b93b9e036aefdd1ed7d2060ed2feca976ec"
    bin: "kubectl-glance"
    files:
    - from: "*"
      to: "."
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: "https://gitlab.com/davidxarnold/glance/-/releases/v0.1.0/downloads/kubectl-glance-0.1.0-windows-amd64.tar.gz"
    sha256: "058de850a2d05fb3e64c95c6ddf51764fb25fa8e3b1ccec00bd666911d630020"
    bin: "kubectl-glance.exe"
    files:
    - from: "*"
      to: "."
